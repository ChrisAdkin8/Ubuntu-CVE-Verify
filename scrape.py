import requests
from bs4 import BeautifulSoup
import pandas as pd

# URL of the webpage with the table data
url = "https://ubuntu.com/security/cves?q=CVE-2023-6622"

# Send an HTTP request to the URL
response = requests.get(url)

# Check if the request was successful (status code 200)
if response.status_code == 200:
    # Parse the HTML content of the page using BeautifulSoup
    soup = BeautifulSoup(response.content, "html.parser")

    # Find the table containing the data
    table = soup.find("table")

    # Extract data from the table and create a list of dictionaries
    data = []
    for row in table.find_all("tr")[1:]:  # Skip the header row
        columns = row.find_all("td")
        cve_id = columns[0].text.strip()
        description = columns[5].text.strip()
        data.append({"CVE_ID": cve_id, "Description": description})

    # Create a pandas dataframe from the list of dictionaries
    df = pd.DataFrame(data)

    # Display the dataframe
    print(df)

else:
    print(f"Failed to retrieve data. Status code: {response.status_code}")

